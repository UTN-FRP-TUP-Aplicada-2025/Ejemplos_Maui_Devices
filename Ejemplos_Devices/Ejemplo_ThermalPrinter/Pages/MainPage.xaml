<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Ejemplo_ThermalPrinter.Pages.MainPage"
             Title="Impresora Térmica Bluetooth">

    <ScrollView>
        <VerticalStackLayout Spacing="15" Padding="20">

            <!-- Título -->
            <Label Text="Impresora Térmica Bluetooth 58mm"
                   FontSize="22"
                   FontAttributes="Bold"
                   HorizontalOptions="Center"
                   Margin="0,10,0,20"/>

            <!-- Estado de conexión -->
            <Frame BorderColor="Gray" 
                   HasShadow="True"
                   CornerRadius="8" 
                   Padding="15"
                   Margin="0,0,0,10">
                <HorizontalStackLayout Spacing="10">
                    <Label Text="Estado:" 
                           FontAttributes="Bold" 
                           VerticalOptions="Center"
                           FontSize="16"/>
                    <Label x:Name="StatusLabel" 
                           Text="Desconectado" 
                           TextColor="Red"
                           VerticalOptions="Center"
                           FontSize="16"/>
                </HorizontalStackLayout>
            </Frame>

            <!-- Sección 1: Buscar dispositivos -->
            <Label Text="1. Buscar Dispositivos" 
                   FontSize="18" 
                   FontAttributes="Bold"
                   Margin="0,15,0,10"/>

            <Button x:Name="ScanButton"
                    Text="Escanear Dispositivos Bluetooth"
                    Clicked="OnScanClicked"
                    BackgroundColor="#2196F3"
                    TextColor="White"
                    CornerRadius="8"
                    HeightRequest="50"/>

            <Picker x:Name="DevicePicker"
                    Title="Selecciona una impresora"
                    IsEnabled="False"
                    FontSize="14"
                    Margin="0,5,0,0"/>

            <!-- Sección 2: Conectar -->
            <Label Text="2. Conectar" 
                   FontSize="18" 
                   FontAttributes="Bold"
                   Margin="0,20,0,10"/>

            <Grid ColumnDefinitions="*,*" ColumnSpacing="10">
                <Button x:Name="ConnectButton"
                        Grid.Column="0"
                        Text="Conectar"
                        Clicked="OnConnectClicked"
                        BackgroundColor="#4CAF50"
                        TextColor="White"
                        IsEnabled="False"
                        CornerRadius="8"
                        HeightRequest="50"/>

                <Button x:Name="DisconnectButton"
                        Grid.Column="1"
                        Text="Desconectar"
                        Clicked="OnDisconnectClicked"
                        BackgroundColor="#F44336"
                        TextColor="White"
                        IsEnabled="False"
                        CornerRadius="8"
                        HeightRequest="50"/>
            </Grid>

            <!-- Sección 3: Pruebas de impresión -->
            <Label Text="3. Pruebas de Impresión" 
                   FontSize="18" 
                   FontAttributes="Bold"
                   Margin="0,20,0,10"/>

            <Button x:Name="PrintTestButton"
                    Text="Imprimir Texto de Prueba"
                    Clicked="OnPrintTestClicked"
                    BackgroundColor="#FF9800"
                    TextColor="White"
                    IsEnabled="False"
                    CornerRadius="8"
                    HeightRequest="50"
                    Margin="0,5"/>

            <Button x:Name="PrintReceiptButton"
                    Text="Imprimir Ticket de Ejemplo"
                    Clicked="OnPrintReceiptClicked"
                    BackgroundColor="#FF9800"
                    TextColor="White"
                    IsEnabled="False"
                    CornerRadius="8"
                    HeightRequest="50"
                    Margin="0,5"/>

            <Button x:Name="PrintQRButton"
                    Text="Imprimir Código QR"
                    Clicked="OnPrintQRClicked"
                    BackgroundColor="#FF9800"
                    TextColor="White"
                    IsEnabled="False"
                    CornerRadius="8"
                    HeightRequest="50"
                    Margin="0,5"/>

            <Button x:Name="PrintBarcodeButton"
                    Text="Imprimir Código de Barras"
                    Clicked="OnPrintBarcodeClicked"
                    BackgroundColor="#FF9800"
                    TextColor="White"
                    IsEnabled="False"
                    CornerRadius="8"
                    HeightRequest="50"
                    Margin="0,5"/>

            <!-- Sección 4: Texto personalizado -->
            <Label Text="4. Texto Personalizado" 
                   FontSize="18" 
                   FontAttributes="Bold"
                   Margin="0,20,0,10"/>

            <Entry x:Name="CustomTextEntry"
                   Placeholder="Ingresa el texto a imprimir"
                   IsEnabled="False"
                   FontSize="14"
                   HeightRequest="50"/>

            <Grid ColumnDefinitions="2*,Auto,Auto,Auto,Auto" 
                  ColumnSpacing="8"
                  RowSpacing="0"
                  Margin="0,10,0,0">

                <Picker x:Name="FontSizePicker"
                        Grid.Column="0"
                        Title="Tamaño"
                        IsEnabled="False"
                        FontSize="13"
                        SelectedIndex="0">
                    <Picker.ItemsSource>
                        <x:Array Type="{x:Type x:String}">
                            <x:String>Normal (1x)</x:String>
                            <x:String>Grande (2x)</x:String>
                            <x:String>Muy Grande (3x)</x:String>
                        </x:Array>
                    </Picker.ItemsSource>
                </Picker>

                <CheckBox x:Name="BoldCheckBox" 
                          Grid.Column="1"
                          IsEnabled="False"
                          VerticalOptions="Center"/>
                <Label Text="Negrita" 
                       Grid.Column="2"
                       VerticalOptions="Center"
                       FontSize="13"/>

                <CheckBox x:Name="CenterCheckBox" 
                          Grid.Column="3"
                          IsEnabled="False"
                          VerticalOptions="Center"
                          Margin="10,0,0,0"/>
                <Label Text="Centrar" 
                       Grid.Column="4"
                       VerticalOptions="Center"
                       FontSize="13"/>
            </Grid>

            <Button x:Name="PrintCustomButton"
                    Text="Imprimir Texto Personalizado"
                    Clicked="OnPrintCustomClicked"
                    BackgroundColor="#673AB7"
                    TextColor="White"
                    IsEnabled="False"
                    CornerRadius="8"
                    HeightRequest="50"
                    Margin="0,10,0,5"/>

            <!-- Mensaje de estado -->
            <Frame BorderColor="LightGray"
                   CornerRadius="5"
                   Padding="10"
                   Margin="0,15,0,20"
                   HasShadow="False">
                <Label x:Name="MessageLabel"
                       Text="Esperando acción..."
                       FontSize="12"
                       TextColor="Gray"
                       HorizontalOptions="Center"
                       HorizontalTextAlignment="Center"/>
            </Frame>

        </VerticalStackLayout>
    </ScrollView>

</ContentPage>